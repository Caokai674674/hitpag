# Hirmux `hitpag` コンパイルと使用ガイド

## [Hitmux 公式サイト https://hitmux.top](https://hitmux.top)

[English](https://github.com/Caokai674674/hitpag/blob/main/README.md) [中文](https://github.com/Caokai674674/hitpag/blob/main/README_zh.md) [日本語](https://github.com/Caokai674674/hitpag/blob/main/README_ja.md) [Deutsch](https://github.com/Caokai674674/hitpag/blob/main/README_de.md) [한국어](https://github.com/Caokai674674/hitpag/blob/main/README_ko.md)


## はじめに

Linux環境では、圧縮ファイルを扱う際に `tar`、`gzip`、`unzip`、`7z` など、さまざまなツールの異なるコマンドやパラメータを覚える必要があり、これは初心者や頻繁に圧縮ファイルを扱わないユーザーにとって大きな課題となります。**`hitpag` は、この問題解決のために誕生しました。**

Hitmux `hitpag` は、Hitmuxによって開発された、Linux上でのファイル圧縮・解凍操作を簡素化することを目的とした、インテリジェントでユーザーフレンドリーなコマンドラインツールです。その核となる理念は、**自動認識と人間味あふれる対話**です。ダウンロードした圧縮ファイルを解凍する場合でも、ローカルファイルを圧縮して共有する場合でも、`hitpag` はファイルの拡張子に基づいてファイルタイプをインテリジェントに識別し、システムの下層にある適切なツールを自動的に呼び出して処理するため、複雑なコマンドを覚える手間が省けます。さらに、**対話モード**も提供されており、コマンドラインパラメータに不慣れな場合でも、簡単な質問と回答で操作を完了できます。

---

## コンパイル手順

### 環境要件

* **オペレーティングシステム**: Linux (Ubuntu 22.04 および Debian 12 でテスト済み)
* **コンパイラ**: C++17 標準をサポートする GCC/G++
* **ビルドツール**: CMake 3.10 以降
* **依存ライブラリ**: `stdc++fs` (C++ファイルシステムライブラリ)。通常、GCC/G++ に含まれています。

### コンパイル手順

1.  **システムの更新とコンパイルツールのインストール**:
    まず、システムが最新であることを確認し、必要なコンパイルツールをインストールします。

    ```bash
    sudo apt-get update
    sudo apt-get install -y g++ cmake make
    ```

2.  **プロジェクトディレクトリへの移動とビルドフォルダの作成**:
    `hitpag` プロジェクトのルートディレクトリに移動し、`build` フォルダを作成してその中に入ります。

    ```bash
    cd hitpag
    mkdir -p build
    cd build
    ```

3.  **CMake を使用してビルドファイルを生成**:
    CMake を実行してプロジェクトを設定し、Makefile を生成します。

    ```bash
    cmake ..
    ```

4.  **プロジェクトのコンパイル**:
    `make` コマンドを実行して `hitpag` をコンパイルします。

    ```bash
    make
    ```

5.  **(オプション) システムへのインストール**:
    `hitpag` をどのディレクトリからでも直接実行できるようにしたい場合は、システムのパスにインストールできます。

    ```bash
    sudo make install
    ```

---

## 使用方法

### 基本的な使い方

`hitpag` ツールの基本的な構文は非常にシンプルです。

```bash
hitpag [オプション] ソースパス ターゲットパス
```

### コマンドラインオプション

* `-i`: **対話モード**。操作方法がわからない場合、ツールが段階的に案内します。
* `-h, --help`: ヘルプ情報を表示します。
* `-v`: バージョン情報を表示します。

### 使用例

1.  **ファイルの解凍**:
    `hitpag` は圧縮ファイルの種類を自動的に識別し、解凍します。

    ```bash
    hitpag archive.tar.gz ./extracted_dir
    ```
    このコマンドは `archive.tar.gz` を `./extracted_dir` ディレクトリに解凍します。

2.  **ファイル/ディレクトリの圧縮**:
    `hitpag` はターゲットファイル名の拡張子に基づいて圧縮形式を自動的に選択します。

    ```bash
    hitpag ./my_folder my_archive.zip
    ```
    このコマンドは `./my_folder` ディレクトリを `my_archive.zip` に圧縮します。

3.  **対話モード**:
    対話モードでは、`hitpag` が質問し、あなたの入力を待ちます。

    ```bash
    hitpag -i big_file.rar
    ```
    解凍操作の種類、ターゲットパスなどを選択するように案内されます。

### サポートされる圧縮形式

`hitpag` は、システムに既存のツールを呼び出すことにより、以下の主要な圧縮/解凍形式をサポートしています。

* `tar` (非圧縮)
* `tar.gz` / `tgz` (gzip 圧縮)
* `tar.bz2` / `tbz2` (bzip2 圧縮)
* `tar.xz` / `txz` (xz 圧縮)
* `zip`
* `rar`
* `7z`

### 注意事項

1.  **対応する圧縮/解凍ツールがインストールされていることを確認してください**:
    `hitpag` は、システムにインストールされている圧縮ツールに依存しています。以下のコマンドを実行して、それらがすべてインストールされていることを確認してください。

    ```bash
    sudo apt-get install -y tar gzip bzip2 xz-utils zip unzip rar unrar p7zip-full
    ```

2.  **ディレクトリの自動作成**:
    解凍操作時、指定されたターゲットディレクトリが存在しない場合、`hitpag` は自動的にそれを作成します。

---

## エラー処理

操作が失敗した場合、`hitpag` は問題を診断するのに役立つ明確な日本語のエラーメッセージを表示します。一般的なエラーメッセージは以下の通りです。

* `エラー: 引数が不足しています`: コマンドライン引数が不足しています。
* `エラー: ソースパスが存在しません`: 指定されたソースファイルまたはディレクトリが存在しません。
* `エラー: ターゲットパスが無効です`: ターゲットパスの形式が正しくないか、アクセスできません。
* `エラー: 認識できないファイル形式です`: 指定されたファイルの圧縮形式を認識できません。
* `エラー: 必要なツールが見つかりません`: 操作を実行するために必要な圧縮/解凍ツールがシステムに見つかりません。
* `エラー: 操作が失敗しました`: 圧縮/解凍操作自体が失敗しました。
* `エラー: 権限が拒否されました`: ファイルまたはディレクトリにアクセスする十分な権限がありません。
* `エラー: ディスク容量が不足しています`: 操作を完了するのに十分なディスク容量がありません。